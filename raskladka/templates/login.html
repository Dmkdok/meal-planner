<!-- raskladka/templates/login.html -->
<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>Вход</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><circle cx='16' cy='16' r='15' fill='%23e3f2fd' stroke='%23667eea' stroke-width='1'/><circle cx='12' cy='14' r='3' fill='%23ff6b6b'/><path d='M16 8c-2 0-4 1-5 3-1 2-1 4 0 6 1 2 3 3 5 3s4-1 5-3c1-2 1-4 0-6-1-2-3-3-5-3z' fill='%23ff6b6b'/><text x='16' y='22' text-anchor='middle' fill='%23667eea' font-family='Arial' font-size='8' font-weight='bold'>РП</text></svg>">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="container">
        <h1>Вход</h1>
        <form method="post">
            <input type="text" name="username" placeholder="Имя пользователя" required>
            <div class="input-with-icon">
                <input type="password" id="password" name="password" placeholder="Пароль" required class="password-input">
                <button type="button" class="toggle-visibility" aria-label="Показать пароль" title="Показать пароль" aria-pressed="false">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7-10-7-10-7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </button>
            </div>
            <button type="submit">Войти</button>
        </form>
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="alerts" aria-live="polite">
            {% for category, message in messages %}
            <div class="alert {{ 'alert-success' if category == 'success' else 'alert-error' }}" role="alert">
                <span class="alert-icon">{{ '✓' if category == 'success' else '!' }}</span>
                <span class="alert-text">{{ message }}</span>
            </div>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}
        <div class="register-link">
            <a href="{{ url_for('views.register') }}">Нет аккаунта? Зарегистрироваться</a>
        </div>
    </div>
    <script defer src="{{ url_for('static', filename='js/login.js') }}"></script>
</body>

</html>